Field Name,Type,Required,Purpose,Example Value,Description,Format Notes,Comments
visitId,String,Yes,Uniquely identify each visit in the system,visit_001,Unique visit identifier,Any string format,Can use external ID from eCare. Must be unique within organization
clientId,String,Yes,"Link visit to specific client, can use external ID from eCare",client_001,Client identifier (can be external ID from eCare),Any string format,External ID supported. System will match or create new client
clientName,String,Recommended,Display client name in UI and match visits to clients,Anna Andersson,Client name (for matching and display),Full name format,Used for display and matching during import
visitDate,Date (YYYY-MM-DD),Yes,Specify which day the visit occurs,2025-03-24,Date of the visit,YYYY-MM-DD,Required for schedule creation
serviceDuration,ISO 8601 duration,Yes,Specify how long the service takes to complete,PT30M,"Service duration (e.g., PT30M, PT1H30M)",ISO 8601 duration format,Examples: PT30M (30 min), PT1H30M (1.5 hours), PT45M (45 min)
originalStartTime,ISO 8601 datetime,Conditional,Original/requested start time - used with flexibilityMinutes to create time window,2025-03-24T08:00:00.000Z,Original/requested start time (use with flexibilityMinutes),ISO 8601 datetime with timezone,Used with flexibilityMinutes to calculate minStartTime/maxStartTime/maxEndTime. User-friendly approach
flexibilityMinutes,Integer,Conditional,"Flexibility window around originalStartTime (e.g., 60 = Â±30 minutes)",60,"Flexibility window in minutes (e.g., 60 = Â±30 minutes)",Integer (minutes),60 = Â±30 minutes flexibility. Used with originalStartTime to calculate DB time windows
preferredFlexibilityMinutes,Integer,Optional,Preferred flexibility window - soft constraint for optimization (used with originalStartTime to create preferredTimeWindows),30,Preferred flexibility window in minutes. Used with originalStartTime to create preferredTimeWindows (Timefold soft constraint for waiting time reduction),Integer (minutes),30 = Â±15 minutes preferred. Creates preferredTimeWindows jsonb array for Timefold
skills,Comma-separated string,Recommended,Specify required skills/competencies for the visit to match with employee skills,"Dusch,Medicinering","Required skills (e.g., 'Dusch,Medicinering')",Comma-separated list,Multiple skills separated by commas. Matched against employee_skills table
serviceAreas,Comma-separated string,Recommended,Tag visit with service area(s) for location-based optimization and filtering,"Farsta,Tallkrogen","Service area tags (e.g., 'Farsta,Tallkrogen')",Comma-separated list,Multiple areas allowed in CSV. DB uses single FK (first area used). Additional areas via visit_tags
serviceAreaOfficeLocation,"String (lat,lng)",Recommended,Office location used as start/end point for all employee routes in this service area,"59.254417,18.081677","Office location coordinates (e.g., '59.254417,18.081677')",Latitude,longitude (decimal),Office/depot location for route optimization start/end points
priority,String (1-10),Recommended,Prioritize visits during capacity constraints (1 = highest priority),5,"Visit priority (1 = highest, 10 = lowest)",String "1" to "10",Will be converted to enum: 1-3=urgent, 4-6=high, 7-8=normal, 9-10=low
mandatory,Boolean (TRUE/FALSE),Optional,Indicate if visit must be scheduled (TRUE) or can be skipped if capacity insufficient (FALSE),true,Whether visit is mandatory (TRUE) or optional (FALSE). Business logic: Visits with longer time window (weekly) than schedule planning window (daily) are mandatory in Timefold,TRUE or FALSE,Reference field. Business logic determines Timefold mandatory: weekly visits in daily schedules are mandatory
visitStatus,String,Recommended,Visit lifecycle status - affects UI color coding and filtering,planned,"Status: 'planned', 'cancelled', 'completed', 'missed'",Enum string,Values: planned, cancelled, completed, missed. Affects UI color coding
requiredStaff,Integer,Optional,Number of staff required for this visit - for double staffing support,1,"Number of staff required (default: 1, use 2 for double staffing)",Integer,1 = single staff, 2 = double staffing (shows ðŸ‘¥ icon in UI)
movable,Boolean (TRUE/FALSE),Optional,Indicate if visit can be scheduled on different days within time window,true,Whether this is a movable visit (TRUE) or fixed (FALSE),TRUE or FALSE,TRUE = can move across days for demand balancing. Usually non-mandatory tasks
movableFrequency,String,Optional,Frequency pattern for movable visits (for pre-planning optimization),weekly,"Frequency if movable: 'daily', 'weekly', 'bi-weekly', 'monthly'",Enum string,For movable visits only. Use movable-visits-data-template.csv for pre-planning
continuity,String,Optional,Continuity requirement level - optimize for consistent caregiver assignment,high,"Continuity requirement: 'high', 'medium', 'low'",Enum string,Reference field. Actual continuity calculated in client_solution_metrics
contactPerson,String,Optional,Designated responsible caregiver for this client - unique employee per client (different from preferred caregivers) - should have high assignment percentage,emp_001,Contact person (unique employee per client, responsible caregiver),Employee ID or name,Unique employee per client. Different from preferredEmployees. Should have high assignment percentage
preferredEmployees,Comma-separated string,Optional,List of preferred employees for this visit - optimizer will prefer these assignments,"Anna,BjÃ¶rn","Preferred employee IDs or names (e.g., 'Anna,BjÃ¶rn')",Comma-separated list,Multiple employees allowed. Different from contactPerson. Optimizer will prefer these assignments
nonPreferredEmployees,Comma-separated string,Optional,List of employees to avoid for this visit - optimizer will avoid these assignments,emp_003,Non-preferred employee IDs or names,Comma-separated list,Optimizer will avoid these assignments
unusedHours,Decimal (hours),Optional,Monthly allocated hours per client that became unused due to cancellations - used for demand/supply balancing,2.5,Number of unused hours per client for current month,Decimal (hours),Tracked in monthly_allocations table (not per-visit). Used for demand/supply balancing
visitAddress,String,Yes,Full address of visit location - required for routing and geocoding,"Brunskogsbacken 84, 12371 Farsta","Full address (e.g., 'Brunskogsbacken 84, 12371 Farsta')",Full street address with postal code,Required for routing. Will be geocoded to addresses table if lat/lng not provided
visitLocationLat,Decimal,Optional,Visit location latitude - used for route optimization (geocoded from address if not provided),59.254417,"Visit location latitude (e.g., 59.254417)",Decimal (WGS84),Optional if visitAddress provided (will be geocoded). Used for route optimization
visitLocationLng,Decimal,Optional,Visit location longitude - used for route optimization (geocoded from address if not provided),18.081677,"Visit location longitude (e.g., 18.081677)",Decimal (WGS84),Optional if visitAddress provided (will be geocoded). Used for route optimization
external_scheduleId,String,Optional,External schedule identifier for syncing revisions - if same schedule imported again, sync with existing instead of creating new original,schedule_ecare_2025_03_24,External schedule ID from source system,Any string format,If provided and schedule exists, updates existing schedule instead of creating new. Enables revision syncing
plannedStart,ISO 8601 datetime,Conditional,Planned start time from eCare - mandatory when visit is planned/assigned,2025-03-24T08:00:00.000Z,Planned start time (mandatory if planned),ISO 8601 datetime with timezone,Required if visit is already planned/assigned
plannedDuration,ISO 8601 duration,Conditional,Planned duration from eCare - mandatory when visit is planned/assigned,PT30M,Planned duration (mandatory if planned),ISO 8601 duration format,Same format as serviceDuration. Required if visit is planned
plannedEmployee,String,Conditional,Planned employee assignment from eCare - mandatory when visit is planned/assigned,emp_001,Planned employee ID or name (mandatory if planned),Employee ID or name,Required if visit is already assigned to employee
plannedStatus,String,Optional,Planned visit status - optional status indicator,PLANNED,"Status: 'PLANNED', 'CONFIRMED', etc. (optional)",String,Optional status from source system. Use visitStatus for actual status
plannedShiftStart,ISO 8601 datetime,Optional,Employee shift start time for this planned assignment - optional (may differ from employeeShiftMinStartTime if shifts changed),2025-03-24T06:00:00.000Z,Employee shift start time (optional),ISO 8601 datetime with timezone,May differ from base employee shift times if shifts were modified
plannedShiftEnd,ISO 8601 datetime,Optional,Employee shift end time for this planned assignment - optional (may differ from employeeShiftMaxEndTime if shifts changed),2025-03-24T15:00:00.000Z,Employee shift end time (optional),ISO 8601 datetime with timezone,May differ from base employee shift times if shifts were modified
plannedTravelTimeSeconds,Integer,Optional,"Planned/estimated travel time to visit - optional, used for route planning accuracy",600,Planned travel time in seconds (optional),Integer (seconds),Optional. Used for route planning accuracy
plannedTravelDistanceMeters,Integer,Optional,"Planned/estimated travel distance to visit - optional, used for route planning accuracy",2000,Planned travel distance in meters (optional),Integer (meters),Optional. Used for route planning accuracy
actualStart,ISO 8601 datetime,Conditional,Actual start time when visit was performed - mandatory when visit was executed,2025-03-24T08:15:00.000Z,Actual start time (mandatory if actual),ISO 8601 datetime with timezone,Required if visit was actually executed
actualDuration,ISO 8601 duration,Conditional,Actual duration of visit - mandatory when visit was executed,PT35M,Actual duration (mandatory if actual),ISO 8601 duration format,Required if visit was executed. May differ from planned duration
actualEmployee,String,Conditional,Employee who actually performed the visit - mandatory when visit was executed,emp_001,Actual employee ID or name who performed visit (mandatory if actual),Employee ID or name,Required if visit was executed. May differ from plannedEmployee
actualStatus,String,Optional,Execution status - EXTRA indicates visits added during execution (not in original plan),COMPLETED,"Status: 'COMPLETED', 'CANCELLED', 'NO_SHOW', 'EXTRA' (optional)",String,EXTRA = visit added during execution (not in original plan)
actualShiftStart,ISO 8601 datetime,Optional,Employee shift start time when visit was executed - optional (may differ from planned if shifts changed),2025-03-24T06:00:00.000Z,Actual employee shift start time (optional),ISO 8601 datetime with timezone,May differ from planned if shifts changed during execution
actualShiftEnd,ISO 8601 datetime,Optional,Employee shift end time when visit was executed - optional (may differ from planned if shifts changed),2025-03-24T15:00:00.000Z,Actual employee shift end time (optional),ISO 8601 datetime with timezone,May differ from planned if shifts changed during execution
actualTravelTimeSeconds,Integer,Optional,"Actual travel time to visit - optional, calculated as visit start - last visit end (excluding breaks). May not be provided by eCare.",900,"Actual travel time in seconds (optional, calculated)",Integer (seconds),May be calculated: visit start - last visit end (excluding breaks)
actualTravelDistanceMeters,Integer,Optional,"Actual travel distance to visit - optional, may not be provided by eCare",3500,Actual travel distance in meters (optional),Integer (meters),May not be provided by eCare
employeeId,String,Conditional,"Employee identifier - on separate row for unplanned, on same row for planned/actual",emp_001,Employee identifier (can be external ID),Any string format,Can use external ID. Must be unique within organization
employeeName,String,Recommended,Employee name for display and matching,Lisa Johansson,Employee name (for matching),Full name format,Used for display and matching during import
employeeRole,String,Optional,Employee role - determines capabilities and permissions,CAREGIVER,"Employee role: 'CAREGIVER', 'DRIVER', 'COORDINATOR'",Enum string,Values: CAREGIVER, DRIVER, COORDINATOR. Affects capabilities
employeeStatus,String,Optional,Employee status - determines availability,active,"Employee status: 'active', 'inactive', 'on_leave'",Enum string,Values: active, inactive, on_leave. Only active employees can be scheduled
employeeContractType,String,Optional,Employee contract type - affects cost calculations,full_time,"Contract type: 'full_time', 'part_time', 'hourly'",Enum string,Values: full_time, part_time, hourly. Affects cost calculations
employeeShiftId,String,Conditional,Uniquely identify the shift for this employee,shift_001,Shift identifier,Any string format,External shift ID. Used to match shifts across imports
employeeShiftMinStartTime,ISO 8601 datetime,Conditional,Earliest time employee can start work - defines shift availability (base employee info),2025-03-24T06:00:00.000Z,Shift start time (base employee info),ISO 8601 datetime with timezone,Defines earliest start time for shift availability
employeeShiftMaxEndTime,ISO 8601 datetime,Conditional,Latest time employee can end work - defines shift availability (base employee info),2025-03-24T15:00:00.000Z,Shift end time (base employee info),ISO 8601 datetime with timezone,Defines latest end time for shift availability
employeeShiftSkills,Comma-separated string,Optional,Skills/competencies employee has - used to match with visit requirements,"Dusch,Medicinering","Employee skills (e.g., 'Dusch,Medicinering')",Comma-separated list,Multiple skills separated by commas. Matched against visit_skills requirements
employeeShiftTags,Comma-separated string,Optional,Service areas/tags for employee - used for location-based assignment,Farsta,Employee tags/service areas,Comma-separated list,Service areas employee can work in. Used for location-based assignment
employeeShiftBreaksJSON,JSON string,Optional,Break periods during shift - optimizer must respect these constraints,"[{""id"":""break_1"",""type"":""FLOATING"",""minStartTime"":""2025-03-24T11:00:00+01:00"",""maxEndTime"":""2025-03-24T13:00:00+01:00"",""duration"":""PT30M"",""costImpact"":""PAID""}]",Breaks as JSON array (see Break JSON Format),JSON array string,Format: [{"id":"break_1","type":"FLOATING","minStartTime":"...","maxEndTime":"...","duration":"PT30M","costImpact":"PAID"}]. Will be normalized to employee_breaks table
employeeShiftCostJSON,JSON string,Optional,Cost structure for employee shift - used for cost optimization,"{""fixedCost"":1375,""rates"":[{""duration"":""PT9H"",""activationCost"":0,""costPerUnit"":300,""unit"":""HOUR""}]}",Cost structure as JSON (see Cost JSON Format),JSON object string,Format: {"fixedCost":1375,"rates":[{"duration":"PT9H","activationCost":0,"costPerUnit":300,"unit":"HOUR"}]}. Will be mapped to employees.monthlySalary/hourlySalary
transportType,String,Optional,Transport mode for employee - affects travel time calculations,CAR,"Transport type: 'CAR', 'BIKE', 'WALK', 'PUBLIC_TRANSPORT'",Enum string,Values: CAR, BIKE, WALK, PUBLIC_TRANSPORT. Affects travel time calculations
revenuePerServiceArea,JSON string,Optional,Revenue generated per service area - used for revenue optimization,"{""Farsta"": 500, ""Tallkrogen"": 450}","Revenue per service area (e.g., '{""Farsta"": 500}')",JSON object string,Format: {"Farsta": 500, "Tallkrogen": 450}. DB uses service_areas.revenuePerHour (per-hour rate)
employeeCostMonthly,Decimal,Optional,Fixed monthly cost per employee - used for cost optimization,35000,Monthly cost per employee (in SEK),Decimal (SEK),Fixed monthly salary. Used for cost optimization
employeeCostPerHour,Decimal,Optional,Hourly cost per employee - used for cost optimization,300,Hourly cost per employee (in SEK),Decimal (SEK per hour),Hourly rate. Used for cost optimization
